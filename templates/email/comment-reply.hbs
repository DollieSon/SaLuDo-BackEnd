<div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); padding: 25px; border-radius: 8px; margin-bottom: 25px; text-align: center;">
  <h2 style="margin: 0; color: #ffffff; font-size: 26px;">↩️ New Reply to Your Comment</h2>
  <p style="margin: 10px 0 0 0; color: #ede9fe; font-size: 14px;">
    {{formatDate notification.createdAt}}
  </p>
</div>

<div style="background-color: #f5f3ff; padding: 25px; border-radius: 8px; border: 2px solid #ddd6fe; margin-bottom: 25px;">
  <p style="font-size: 16px; line-height: 1.7; color: #5b21b6; margin: 0; font-weight: 500;">
    {{notification.message}}
  </p>
</div>

{{#if notification.data}}
<div style="background-color: #ffffff; padding: 20px; border-radius: 8px; border: 1px solid #e5e7eb; margin-bottom: 25px;">
  <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 16px;">Reply Details:</h3>
  
  {{#if notification.data.authorName}}
  <p style="margin: 8px 0; font-size: 14px; color: #374151;">
    <strong>Author:</strong> {{notification.data.authorName}}
  </p>
  {{/if}}
  
  {{#if notification.data.entityType}}
  <p style="margin: 8px 0; font-size: 14px; color: #374151;">
    <strong>Context:</strong> {{notification.data.entityType}} 
    {{#if notification.data.entityId}}
      <code style="background-color: #f3f4f6; padding: 2px 6px; border-radius: 3px;">{{notification.data.entityId}}</code>
    {{/if}}
  </p>
  {{/if}}
  
  {{#if notification.data.parentCommentPreview}}
  <div style="margin-top: 15px; padding: 15px; background-color: #f9fafb; border-left: 3px solid #9ca3af; border-radius: 4px;">
    <p style="margin: 0 0 5px 0; font-size: 12px; color: #6b7280; font-weight: 600; text-transform: uppercase;">Your Original Comment:</p>
    <p style="margin: 0; font-size: 14px; color: #4b5563; line-height: 1.6; font-style: italic;">
      "{{notification.data.parentCommentPreview}}"
    </p>
  </div>
  {{/if}}
  
  {{#if notification.data.commentPreview}}
  <div style="margin-top: 15px; padding: 15px; background-color: #f5f3ff; border-left: 3px solid #8b5cf6; border-radius: 4px;">
    <p style="margin: 0 0 5px 0; font-size: 12px; color: #7c3aed; font-weight: 600; text-transform: uppercase;">Reply:</p>
    <p style="margin: 0; font-size: 14px; color: #1f2937; line-height: 1.6; font-style: italic;">
      "{{notification.data.commentPreview}}"
    </p>
  </div>
  {{/if}}
</div>
{{/if}}

{{#if notification.action.url}}
<div style="text-align: center; margin-top: 25px;">
  <a href="{{appUrl}}{{notification.action.url}}" style="display: inline-block; padding: 14px 32px; background-color: #8b5cf6; color: #ffffff; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 16px;">
    {{#if notification.action.label}}
      {{notification.action.label}} →
    {{else}}
      View Reply →
    {{/if}}
  </a>
</div>
{{/if}}

<div style="margin-top: 25px; padding: 15px; background-color: #dbeafe; border-left: 4px solid #3b82f6; border-radius: 4px;">
  <p style="font-size: 13px; color: #1e40af; margin: 0;">
    <strong>Quick Tip:</strong> Continue the conversation by replying or mark as resolved when the discussion is complete.
  </p>
</div>
